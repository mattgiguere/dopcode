function jul2cal, jd, $dashn = dashn, $dashcol = dashcol, $datdash = datdash, $date = date, $straightdate=straightdate, $straighttime=straighttime, $time = time, $yymmdd = yymmdd;PURPOSE: Converts a Julian day or an array of Julian Days into; a gregorian calendar date string in the form yyyy/mm/dd hh:mm:ss.sss; INPUT: The Julian day or days in DOUBLE type.;OUTPUT: The string or array of strings representing the date/time;; OPTIONAL KEYWORDS:;	DATDASH: Outputs the date only with dashes placed between;		year, month and day.;;	DASHN: If you're having Keyword ambiguity errors, i.e., getting;		an error message like that below:;	DATE: Outputs yyyy/mm/dd;;% Compiled module: TRANSIT_MONTE.;% Ambiguous keyword abbreviation: DASH.;% Execution halted at: TRANSIT_MONTE      39 /home/matt/idl/exoidl/transit/transit_monte.pro;;     then change the code to use /dashn instead of /dash;;;EXAMPLE:;  IDL> a = julday(4, 2, 1982, 8, 51, 0);  IDL> print, jul2cal(a)               ;  1982/04/02 08:51:00.000;  IDL> ;HISTORY: created 27Jan2006 ~MJG; -Keywords dash, date, time added 20081025 ~MJG; -additional style keywords added ~MJG; -modified keyword dash to dashn because of ambiguity of KWs 20110226 ~MJG; -added yymmdd 20130614 ~MJG;caldat, jd, mon, day, yr, hr, mn, sc; getting sc to n decimal places:n = 3 ;# of decimal places seconds are accurate to.sc *= 1d * 10^nsc = ROUND(sc)sc /=1.*10^nmons  = strt(mon)days = strt(day)yrs = strt(yr)hrs = strt(hr)mns = strt(mn)scs = strt(sc)sc2 = strt(round(sc))a = where(mon le 9, ct) & if ct gt 0 then mons[a] = '0'+mons[a]a = where(day le 9, ct) & if ct gt 0 then days[a] = '0'+days[a]a = where(yr le 9, ct) & if ct gt 0 then yrs[a] = '0'+yrs[a]a = where(hr le 9, ct) & if ct gt 0 then hrs[a] = '0'+hrs[a]a = where(mn le 9, ct) & if ct gt 0 then mns[a] = '0'+mns[a]a = where(sc le 9, ct) & if ct gt 0 then scs[a] = '0'+scs[a]scs = strmid(scs, 0, 3+n)sscs = strmid(scs, 0, 2)op = yrs+'/'+mons+'/'+days+' '+hrs+':'+mns+':'+scs;this is the OLD way ~ 20110504 MJG;if keyword_set(dashn) then op = yrs+mons+days+'-'+hrs+mns+scs;and the new way:if keyword_set(dashn) then op = yrs+mons+days+'-'+hrs+mns+sc2if keyword_set(dashcol) then op = $	yrs+mons+days+'-'+hrs+':'+mns+':'+sscsif keyword_set(datdash) then op = yrs+'-'+mons+'-'+daysif keyword_set(straightdate) then op = yrs+mons+daysif keyword_set(straighttime) then op = hrs+mns+scsif keyword_set(date) then op = yrs+'/'+mons+'/'+daysif keyword_set(time) then op = hrs+':'+mns+':'+scsif keyword_set(yymmdd) then op = strmid(yrs, 2, 2)+mons+daysif keyword_set(time) then print, 'op before returning from jul2cal: ', opreturn, op ;return output (op)end ;jul2cal.pro